# M√©todo Ceiba

## ¬øQu√© es el M√©todo Ceiba?

El **M√©todo Ceiba** es una forma estructurada de trabajar el ciclo de vida del desarrollo de software apoyada por agentes impulsados por IA. Su objetivo es:

- Acelerar la entrega manteniendo calidad consistente.
- Reutilizar el conocimiento del proyecto (documentaci√≥n + c√≥digo) en cada iteraci√≥n.
- Guiar a roles t√©cnicos y no t√©cnicos con pasos claros y automatizados.
- Mantener una "documentaci√≥n viva" (Mapa de Arquitectura / _GPS arquitect√≥nico_) siempre alineada con el c√≥digo fuente.

Cada agente cubre una etapa cr√≠tica: definici√≥n del requerimiento, an√°lisis y dise√±o, refinamiento, desarrollo y revisi√≥n de calidad. El sistema siempre toma como contexto la documentaci√≥n y el c√≥digo existente para producir salidas m√°s precisas y reducir retrabajos.

---

## Diagrama General del Flujo

```mermaid
flowchart TD
    %% Insumos iniciales
    INDOC["üìö Insumos de documentaci√≥n t√©cnica y de negocio"]
    INCODE["üíæ C√≥digo fuente"]

    %% Tareas agrupadas por agente
    TARQ["Documentar arquitectura base<br/>Documentar componentes<br/>Documentar flujos<br/>(ü§ñ Arquitecto)"]
    TPO["Escribir historia de Usuario<br/>Importar Historia de Usuario<br/>(ü§ñ Product Owner)"]
    TSM["Refinar/tasking historias<br/>Estimar historias<br/>(ü§ñ Scrum Master)"]
    TDEV["Desarrollar historias de usuario<br/>(ü§ñ Desarrollador)"]
    TPR["Revision par del desarrollo<br/>(ü§ñ Peer Reviewer)"]
    TANAL["Analisis y Diseno de historia de usuario<br/>(ü§ñ Arquitecto)"]

    %% Salidas/Resultados
    DOC["üìñ Documentaci√≥n t√©cnica y de negocio"]
    HIST["üìù Historias de usuario"]
    REF["üìù Historias de usuario refinadas"]
    DEV["üíª C√≥digo fuente modificado"]
    REV["üëÄ Revisi√≥n de c√≥digo fuente"]

    %% Flujo principal con insumos iniciales
    INDOC --> TARQ
    INCODE --> TARQ
    TARQ --> DOC
    DOC --> TPO
    TPO --> HIST
    HIST --> TSM
    TSM --> REF
    REF --> TDEV
    TDEV --> DEV
    DEV --> TPR
    TPR --> REV

    %% Analisis y diseno (proceso especial)
    DOC --> TANAL
    HIST --> TANAL
    REF --> TANAL

    %% Estilos
    %% Insumos iniciales - Verde claro con texto negro
    style INDOC fill:#e8f5e8,stroke:#4caf50,stroke-width:2px,color:#000000
    style INCODE fill:#e8f5e8,stroke:#4caf50,stroke-width:2px,color:#000000

    %% Tareas - Gris claro con bordes y texto negro
    style TARQ fill:#f5f5f5,stroke:#333,stroke-width:2px,color:#000000
    style TPO fill:#f5f5f5,stroke:#333,stroke-width:2px,color:#000000
    style TSM fill:#f5f5f5,stroke:#333,stroke-width:2px,color:#000000
    style TDEV fill:#f5f5f5,stroke:#333,stroke-width:2px,color:#000000
    style TPR fill:#f5f5f5,stroke:#333,stroke-width:2px,color:#000000
    style TANAL fill:#fff3cd,stroke:#333,stroke-width:2px,color:#000000

    %% Salidas - Azul claro con texto negro
    style DOC fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    style HIST fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    style REF fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    style DEV fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
    style REV fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000000
```

**Leyenda de colores:**

- üü¢ **Verde claro**: Insumos iniciales del proceso
- ‚ö™ **Gris claro**: Tareas agrupadas por agente responsable
- üîµ **Azul**: Salidas/Resultados generados
- üü° **Amarillo**: An√°lisis y dise√±o (proceso especial del Arquitecto)

> Si el diagrama no se renderiza en tu visor Markdown, verifica que la plataforma soporte Mermaid o utiliza una extensi√≥n de Visual Studio Code que lo habilite.

---

## Roles y Responsabilidades

| Agente        | Responsabilidades Principales                                                                                     | Roles de la Empresa que lo Usan        |
| ------------- | ----------------------------------------------------------------------------------------------------------------- | -------------------------------------- |
| Arquitecto    | Documentar arquitectura base; Documentar componentes; Documentar flujos; An√°lisis y dise√±o de historia de usuario | Coach t√©cnico / L√≠der t√©cnico          |
| Product Owner | Escribir historias de usuario; Importar historias de usuario                                                      | Gerentes de proyecto                   |
| Scrum Master  | Refinar/tasking de historias de usuario; Estimar historias de usuario                                             | Gerentes de proyecto / Desarrolladores |
| Desarrollador | Desarrollar historias de usuario                                                                                  | Desarrolladores                        |
| Peer Reviewer | Revisi√≥n par del desarrollo de la historia de usuario                                                             | Desarrolladores / Coach t√©cnicos       |

---

## Prerrequisitos

- Node.js v20 o superior instalado.
- (Recomendado) Usar bajo el IDE Visual Studio Code.
- Acceso al repositorio del proyecto y su base de c√≥digo existente.
- Permisos para ejecutar `npx` en el entorno de trabajo.

---

## üìö **Importancia de la Documentaci√≥n Completa**

### üéØ **Documentaci√≥n Fundamental para Resultados Esperados**

Para que el **M√©todo Ceiba** genere resultados √≥ptimos en todos sus pasos, es **fundamental** contar con documentaci√≥n arquitect√≥nica completa y actualizada. El m√©todo se basa en el an√°lisis de documentaci√≥n existente para generar historias de usuario m√°s precisas, an√°lisis arquitect√≥nicos fundamentados y desarrollo m√°s eficiente.

### üìã **Se considera documentaci√≥n completa cuando incluye:**

#### **1. üèóÔ∏è Documentaci√≥n General del Proyecto**

```bash
architect *documentar-arquitectura-base
```

- **Prop√≥sito:** Crear el "GPS arquitect√≥nico" completo del sistema
- **Genera:** `docs/architecture/index.md` con visi√≥n general de arquitectura, componentes principales, flujos de datos y decisiones de dise√±o
- **Impacto:** Base fundamental para an√°lisis arquitect√≥nico de historias de usuario

#### **2. üîß Documentaci√≥n de Componentes Principales**

```bash
architect *documentar-componente
```

- **Prop√≥sito:** Documentar cada componente cr√≠tico del sistema con detalle t√©cnico
- **Genera:** `docs/architecture/architecture-{componente}.md` para cada componente
- **Impacto:** Permite an√°lisis preciso de impacto y dependencias en nuevas funcionalidades

#### **3. üîÑ Documentaci√≥n de Flujos de Negocio Principales**

```bash
architect *documentar-flujo-negocio
```

- **Prop√≥sito:** Documentar procesos de negocio cr√≠ticos con diagramas de secuencia
- **Genera:** `docs/architecture/flujo-{nombre}.md` con diagramas Mermaid detallados
- **Impacto:** Facilita la integraci√≥n de nuevas funcionalidades en flujos existentes

### ‚ö†Ô∏è **Consecuencias de Documentaci√≥n Incompleta**

**Sin documentaci√≥n completa, el M√©todo Ceiba:**

- Generar√° historias de usuario con menos contexto arquitect√≥nico
- Requerir√° m√°s iteraciones de refinamiento
- Producir√° an√°lisis arquitect√≥nicos menos precisos
- Aumentar√° el riesgo de inconsistencias entre componentes
- Reducir√° la eficiencia del desarrollo

### ‚úÖ **Recomendaci√≥n**

**Ejecutar los tres comandos de documentaci√≥n antes de iniciar el ciclo de historias de usuario** para garantizar que todos los agentes del m√©todo tengan el contexto arquitect√≥nico necesario para generar resultados de alta calidad.

---

## üéØ **Beneficios y Caracter√≠sticas del M√©todo Ceiba**

### ‚ö° **Eficiencia y Velocidad**

- **Velocidad con contexto:** Cada acci√≥n consume documentaci√≥n y c√≥digo existentes para evitar redacci√≥n duplicada
- **Onboarding acelerado:** Nuevo talento entiende el sistema a trav√©s del Mapa de Arquitectura (GPS) y las historias enriquecidas
- **Reduce tiempo de onboarding** con documentaci√≥n clara y estructurada

### üìö **Documentaci√≥n Viva e Integraci√≥n**

- **GPS arquitect√≥nico** que se actualiza con cada desarrollo
- **Trazabilidad completa:** Historias conectadas a componentes, flujos y decisiones de arquitectura
- **Est√°ndares de c√≥digo espec√≠ficos** del proyecto basados en an√°lisis real del c√≥digo existente
- **Las historias se basan** en documentaci√≥n arquitect√≥nica existente para mayor coherencia

### üõ°Ô∏è **Calidad y Gesti√≥n Estructurada**

- **Calidad continua:** Revisi√≥n estructurada y est√°ndares derivados del propio proyecto
- **Reducci√≥n de riesgo t√©cnico:** An√°lisis y dise√±o expl√≠citos antes de codificar
- **Revisi√≥n por pares obligatoria** con gates de calidad definidos
- **Estimaci√≥n fundamentada** en an√°lisis de riesgos y complejidad t√©cnica

### üîÑ **Aprendizaje y Mejora Continua**

- **Aprendizaje organizacional:** La documentaci√≥n viva evoluciona con cada entrega
- **Patrones arquitect√≥nicos reutilizables** que aceleran desarrollos futuros
- **Procesos transparentes y trazables** con retroalimentaci√≥n continua entre roles

---

## Descripci√≥n

El **M√©todo Ceiba** es un framework de desarrollo especializado con pr√°cticas y procesos espec√≠ficos de Ceiba Software. Proporciona agentes especializados, flujos de trabajo estructurados y herramientas para equipos de desarrollo fullstack que manejan proyectos de desarrollo de software.

## üìã **Proceso Completo del M√©todo Ceiba**

Resumen de alto nivel de fases:

1. Documentaci√≥n Arquitect√≥nica (Arquitecto)
2. Creaci√≥n de Historias (Product Owner)
3. Refinamiento y Estimaci√≥n (Scrum Master)
4. An√°lisis y Dise√±o espec√≠fico (Arquitecto en historias complejas)
5. Desarrollo (Desarrollador)
6. Revisi√≥n de Calidad (Peer Reviewer)

El M√©todo Ceiba sigue un flujo estructurado y sistem√°tico que garantiza la calidad del software desde la documentaci√≥n arquitect√≥nica hasta la entrega final. A continuaci√≥n se presenta el proceso completo paso a paso:

---

## üèóÔ∏è **FASE 1: DOCUMENTACI√ìN ARQUITECT√ìNICA**

### **Agente: Arquitecto**

#### **Paso 1.1: Documentar Arquitectura Base**

```bash
architect *documentar-arquitectura-base
```

**üìÑ Prop√≥sito:** Crear la documentaci√≥n base de arquitectura para proyectos con m√∫ltiples repositorios y sistemas complejos.

**üì¶ Entregables:**

- **Archivo principal:** `docs/architecture/index.md` - Documento completo de arquitectura

**‚úÖ Cu√°ndo usar:** Al inicio del proyecto o cuando no existe documentaci√≥n arquitect√≥nica actualizada.

#### **Paso 1.2: Documentar Componentes Espec√≠ficos**

```bash
architect *documentar-componente
```

**üìÑ Prop√≥sito:** Documentar componentes individuales del sistema con detalle t√©cnico espec√≠fico.

**üì¶ Entregables:**

- **Archivo:** `docs/architecture/architecture-{nombre-componente}.md`
- **Contenido:** Overview, arquitectura interna, APIs, dependencias, despliegue

**‚úÖ Cu√°ndo usar:** Para cada componente cr√≠tico del sistema que requiere documentaci√≥n detallada.

#### **Paso 1.3: Documentar Flujos de Negocio**

```bash
architect *documentar-flujo-negocio
```

**üìÑ Prop√≥sito:** Documentar flujos de negocio cr√≠ticos mediante diagramas de secuencia detallados.

**üì¶ Entregables:**

- **Archivo:** `docs/architecture/flujo-{nombre-flujo}.md`
- **Contenido:** Diagramas de secuencia Mermaid, manejo de errores, casos de prueba, m√©tricas

**‚úÖ Cu√°ndo usar:** Para flujos de negocio complejos que involucran m√∫ltiples componentes.

#### **Paso 1.4: Generar Est√°ndares de C√≥digo**

```bash
architect *generar-estandares-codigo
```

**üìÑ Prop√≥sito:** Crear est√°ndares de c√≥digo espec√≠ficos del proyecto bas√°ndose en an√°lisis del c√≥digo existente y mejores pr√°cticas del equipo.

**üì¶ Entregables:**

- **Archivo:** `docs/architecture/coding-standards.md`
- **Contenido:** Est√°ndares obligatorios, convenciones recomendadas, configuraci√≥n de herramientas, ejemplos pr√°cticos

**‚úÖ Cu√°ndo usar:**

- Para proyectos sin est√°ndares documentados pero con c√≥digo existente
- Cuando se necesita formalizar convenciones del equipo
- Para crear gu√≠as claras para nuevos desarrolladores

**üîç Proceso:** Elicitaci√≥n de contexto ‚Üí An√°lisis de documentaci√≥n existente ‚Üí An√°lisis de c√≥digo base ‚Üí Generaci√≥n de est√°ndares

---

## üìù **FASE 2: CREACI√ìN DE HISTORIAS DE USUARIO**

### **Agente: Product Owner (PO)**

#### **Paso 2.1: Crear Historia de Usuario**

```bash
po *create-user-story
```

**üìÑ Prop√≥sito:** Crear historias de usuario estructuradas con informaci√≥n completa del negocio, aprovechando la documentaci√≥n arquitect√≥nica existente.

**üì¶ Entregables:**

- **Archivo:** `docs/stories/{n√∫mero}.story.md`
- **Contenido:**
  - Historia en formato "Como... Quiero... Para..."
  - Criterios de aceptaci√≥n en formato Gherkin
  - Informaci√≥n recopilada del negocio
  - An√°lisis de documentaci√≥n arquitect√≥nica existente
  - Referencias a componentes y flujos relacionados

**üìã Estado:** `Borrador (PO)` - Lista para an√°lisis arquitect√≥nico

**‚úÖ Proceso:** An√°lisis de requerimientos ‚Üí Consulta documentaci√≥n arquitect√≥nica ‚Üí Elicitaci√≥n ‚Üí Historia completa

---

## üèóÔ∏è **FASE 3: AN√ÅLISIS Y DISE√ëO ARQUITECT√ìNICO**

### **Agente: Arquitecto (Architect)**

#### **Paso 3.1: Analizar y Dise√±ar Arquitectura de Historia**

```bash
architect *analisis-y-diseno {n√∫mero}
```

**üìÑ Prop√≥sito:** Analizar la historia desde perspectiva arquitect√≥nica, tomar decisiones de dise√±o y proponer implementaci√≥n validada por arquitecto humano.

**üì¶ Entregables:**

- **Archivo actualizado:** `docs/stories/{n√∫mero}.story.md`
- **Contenido a√±adido:**
  - An√°lisis arquitect√≥nico completo basado en documentaci√≥n existente
  - Decisiones de dise√±o validadas por arquitecto humano
  - Especificaci√≥n de componentes y modificaciones requeridas
  - Estrategia de implementaci√≥n y flujo de integraci√≥n
  - Identificaci√≥n de riesgos arquitect√≥nicos
  - Referencias a decisiones similares en historias previas

**üìã Estado:** `Analizado (Arquitecto)` - Lista para refinamiento t√©cnico

**‚úÖ Proceso:** An√°lisis de impacto ‚Üí Propuesta de dise√±o ‚Üí **Validaci√≥n humana obligatoria** ‚Üí Decisiones documentadas

---

## üîß **FASE 4: REFINAMIENTO T√âCNICO**

### **Agente: Scrum Master (SM)**

#### **Paso 4.1: Refinar Historia de Usuario**

```bash
sm *refine-story {n√∫mero}
```

**üìÑ Prop√≥sito:** Enriquecer la historia con contexto t√©cnico profundo usando decisiones arquitect√≥nicas como base, y descomponer en tareas ejecutables.

**üì¶ Entregables:**

- **Archivo actualizado:** `docs/stories/{n√∫mero}.story.md`
- **Contenido a√±adido:**
  - Descomposici√≥n t√©cnica basada en an√°lisis arquitect√≥nico (si existe)
  - Tareas de implementaci√≥n espec√≠ficas organizadas por fases
  - An√°lisis de historias refinadas similares
  - Contexto t√©cnico complementario al dise√±o arquitect√≥nico
  - An√°lisis de riesgos t√©cnicos e impacto
  - Checklist de actualizaci√≥n documental

**üìã Estado:** `Refinado (SM)` - Lista para estimaci√≥n

**‚úÖ Proceso:** Uso de decisiones arquitect√≥nicas ‚Üí An√°lisis t√©cnico complementario ‚Üí Descomposici√≥n en tareas ‚Üí Historia lista para desarrollo

---

## üìä **FASE 5: ESTIMACI√ìN**

### **Agente: Scrum Master (SM)**

#### **Paso 5.1: Estimar Historia de Usuario**

```bash
sm *estimate-story {n√∫mero}
```

**üìÑ Prop√≥sito:** Realizar estimaci√≥n fundamentada basada en complejidad t√©cnica y an√°lisis de riesgos.

**üì¶ Entregables:**

- **Archivo actualizado:** `docs/stories/{n√∫mero}.story.md`
- **Contenido a√±adido:**
  - Estimaci√≥n en story points
  - Justificaci√≥n de la estimaci√≥n
  - An√°lisis de complejidad por dimensiones
  - Identificaci√≥n de riesgos

**üìã Estado:** `Estimado (SM)` - Lista para desarrollo

---

## üíª **FASE 6: DESARROLLO**

### **Agente: Developer (Dev)**

#### **Paso 6.1: Implementar Historia de Usuario**

```bash
dev *develop-story {n√∫mero}
```

**üìÑ Prop√≥sito:** Implementar la funcionalidad siguiendo los est√°ndares documentados y patrones arquitect√≥nicos establecidos.

**üì¶ Entregables:**

- **C√≥digo implementado** seg√∫n especificaciones y est√°ndares
- **Pruebas unitarias e integraci√≥n** completas
- **Archivo actualizado:** `docs/stories/{n√∫mero}.story.md`
- **Secciones actualizadas:**
  - Checkboxes de tareas completadas
  - Dev Agent Record con detalles de implementaci√≥n
  - File List con archivos modificados/creados
  - Change Log con cambios realizados
- **Documentaci√≥n actualizada** (seg√∫n checklist de tareas):
  - GPS arquitect√≥nico si hay nuevos componentes
  - Documentaci√≥n de componentes modificados
  - Flujos de negocio actualizados si aplica

**üìã Estado:** `Implementado (Dev)` - Listo para revisi√≥n

**‚úÖ Proceso:** Implementaci√≥n por fases ‚Üí Pruebas ‚Üí Validaciones ‚Üí Actualizaci√≥n documental ‚Üí Historia completada

---

## üß™ **FASE 7: REVISI√ìN DE CALIDAD**

### **Agente: Peer Reviewer**

#### **Paso 7.1: Revisar C√≥digo y Arquitectura**

```bash
peer-reviewer  *review {n√∫mero}
```

**üìÑ Prop√≥sito:** Realizar revisi√≥n integral de calidad incluyendo c√≥digo, arquitectura, pruebas y cumplimiento de est√°ndares.

**üì¶ Entregables:**

- **Archivo actualizado:** `docs/stories/{n√∫mero}.story.md`
  - Secci√≥n QA Results con resultados de revisi√≥n
- **Archivo de decisi√≥n:** `docs/qa/gates/{epic}.{story}-{slug}.yml`
- **Decisiones posibles:**
  - ‚úÖ **PASS** - Cumple todos los criterios de calidad
  - ‚ö†Ô∏è **CONCERNS** - Tiene observaciones pero puede continuar
  - ‚ùå **FAIL** - Requiere correcciones antes de continuar
  - üîÑ **WAIVED** - Exenciones justificadas aprobadas

**üìã Estado:** `Revisado (QA)` - Seg√∫n decisi√≥n del gate

**‚úÖ An√°lisis incluye:**

- Trazabilidad de requisitos
- Evaluaci√≥n de riesgos
- Arquitectura de pruebas
- Cumplimiento de NFRs (Non-Functional Requirements)
- Adherencia a est√°ndares documentados
- Calidad del c√≥digo y testabilidad

---

---

## üöÄ **Instalaci√≥n y Configuraci√≥n**

### Instalaci√≥n

```bash
npm cache clean --force
npx @ceiba/metodo-ceiba@latest install
```

### Activar Agentes Ceiba

```bash
/ceiba architect      # Arquitecto
/ceiba po            # Product Owner
/ceiba sm            # Scrum Master
/ceiba dev           # Developer
/ceiba peer-reviewer # Peer Reviewer
```

---

## üìÇ **Estructura de Archivos Generados**

```
proyecto/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ architecture/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.md                           # GPS arquitect√≥nico
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coding-standards.md               # Est√°ndares de desarrollo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ architecture-{componente}.md      # Documentaci√≥n de componentes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ flujo-{nombre}.md                # Flujos de negocio
‚îÇ   ‚îú‚îÄ‚îÄ stories/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1.story.md                        # Historia de usuario #1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2.story.md                        # Historia de usuario #2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ qa/
‚îÇ       ‚îî‚îÄ‚îÄ gates/
‚îÇ           ‚îú‚îÄ‚îÄ epic1.1-login.yml             # Decisi√≥n QA historia #1
‚îÇ           ‚îî‚îÄ‚îÄ epic1.2-dashboard.yml         # Decisi√≥n QA historia #2
‚îî‚îÄ‚îÄ core-config.yaml                          # Configuraci√≥n
```

---

## üìû **Soporte**

Este m√©todo es mantenido por Ceiba Software siguiendo los principios del M√©todo Ceiba.

---

_Desarrollado con ‚ù§Ô∏è por el equipo de Ceiba Software_
